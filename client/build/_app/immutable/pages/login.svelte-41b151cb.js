import{S as Q,i as Y,s as Z,l as c,r as A,a as y,m as d,n as v,u as D,h as p,c as U,p as i,b as z,G as t,M as T,H as M,N as fe,W as ce,X as de,E as K,O as pe,v as he,f as j,w as re,x as le,y as ae,t as ne,B as oe}from"../chunks/index-503ae1fb.js";import{a as me}from"../chunks/client-f8081f06.js";import{f as _e,s as ve}from"../chunks/index-18fde6d0.js";function ie(u){let e,s,n;return{c(){e=c("div"),s=c("span"),n=A(u[2]),this.h()},l(r){e=d(r,"DIV",{class:!0});var l=v(e);s=d(l,"SPAN",{});var a=v(s);n=D(a,u[2]),a.forEach(p),l.forEach(p),this.h()},h(){i(e,"class","alert alert-error")},m(r,l){z(r,e,l),t(e,s),t(s,n)},p(r,l){l&4&&he(n,r[2])},d(r){r&&p(e)}}}function ge(u){let e,s,n,r,l,a,f,L,h,o,$,I,R,V,B,P,S,N,O,C,H,k,w=u[2].length>0&&ie(u);return{c(){e=c("form"),s=c("h1"),n=A("Login"),r=y(),w&&w.c(),l=y(),a=c("div"),f=c("label"),L=A("Username"),h=y(),o=c("input"),$=y(),I=c("div"),R=c("label"),V=A("Password"),B=y(),P=c("input"),S=y(),N=c("button"),O=A("Login"),this.h()},l(g){e=d(g,"FORM",{class:!0});var E=v(e);s=d(E,"H1",{class:!0});var F=v(s);n=D(F,"Login"),F.forEach(p),r=U(E),w&&w.l(E),l=U(E),a=d(E,"DIV",{class:!0});var q=v(a);f=d(q,"LABEL",{for:!0});var _=v(f);L=D(_,"Username"),_.forEach(p),h=U(q),o=d(q,"INPUT",{type:!0,class:!0}),q.forEach(p),$=U(E),I=d(E,"DIV",{class:!0});var b=v(I);R=d(b,"LABEL",{for:!0});var m=v(R);V=D(m,"Password"),m.forEach(p),B=U(b),P=d(b,"INPUT",{type:!0,class:!0}),b.forEach(p),S=U(E),N=d(E,"BUTTON",{class:!0});var J=v(N);O=D(J,"Login"),J.forEach(p),E.forEach(p),this.h()},h(){i(s,"class","text-3xl font-extralight text-center"),i(f,"for",""),i(o,"type","text"),i(o,"class","input input-bordered"),i(a,"class","form-control"),i(R,"for",""),i(P,"type","password"),i(P,"class","input input-bordered"),i(I,"class","form-control"),i(N,"class","btn btn-success mt-5"),i(e,"class","bg-base-200 p-5 rounded-lg shadow-lg flex flex-col gap-1 w-1/3")},m(g,E){z(g,e,E),t(e,s),t(s,n),t(e,r),w&&w.m(e,null),t(e,l),t(e,a),t(a,f),t(f,L),t(a,h),t(a,o),T(o,u[0]),t(e,$),t(e,I),t(I,R),t(R,V),t(I,B),t(I,P),T(P,u[1]),t(e,S),t(e,N),t(N,O),H||(k=[M(o,"input",u[4]),M(P,"input",u[5]),M(e,"submit",fe(u[3]))],H=!0)},p(g,[E]){g[2].length>0?w?w.p(g,E):(w=ie(g),w.c(),w.m(e,l)):w&&(w.d(1),w=null),E&1&&o.value!==g[0]&&T(o,g[0]),E&2&&P.value!==g[1]&&T(P,g[1])},i(g){C||ce(()=>{C=de(e,_e,{}),C.start()})},o:K,d(g){g&&p(e),w&&w.d(),H=!1,pe(k)}}}function be(u,e,s){let n="",r="",l="";async function a(){if(s(2,l=""),r.length===0){s(2,l=`Password is required
`);return}try{let h=await me.user.loginApiUsersLoginPost({username:n,password:r});localStorage.setItem("token",JSON.stringify(h)),window.history.back()}catch{s(2,l+=`Invalid username or password
`)}}function f(){n=this.value,s(0,n)}function L(){r=this.value,s(1,r)}return[n,r,l,a,f,L]}class we extends Q{constructor(e){super(),Y(this,e,be,ge,Z,{})}}function ue(u){let e,s,n,r;return{c(){e=c("div"),s=c("span"),n=A(u[3]),this.h()},l(l){e=d(l,"DIV",{class:!0});var a=v(e);s=d(a,"SPAN",{});var f=v(s);n=D(f,u[3]),f.forEach(p),a.forEach(p),this.h()},h(){i(e,"class","alert alert-error")},m(l,a){z(l,e,a),t(e,s),t(s,n)},p(l,a){a&8&&he(n,l[3])},i(l){r||ce(()=>{r=de(e,ve,{}),r.start()})},o:K,d(l){l&&p(e)}}}function Ee(u){let e,s,n,r,l,a,f,L,h,o,$,I,R,V,B,P,S,N,O,C,H,k,w,g,E,F,q,_=u[3].length>0&&ue(u);return{c(){e=c("form"),s=c("h1"),n=A("Register"),r=y(),_&&_.c(),l=y(),a=c("div"),f=c("label"),L=A("Username"),h=y(),o=c("input"),$=y(),I=c("div"),R=c("label"),V=A("Password"),B=y(),P=c("input"),S=y(),N=c("div"),O=c("label"),C=A("Confirm Password"),H=y(),k=c("input"),w=y(),g=c("button"),E=A("Register"),this.h()},l(b){e=d(b,"FORM",{class:!0});var m=v(e);s=d(m,"H1",{class:!0});var J=v(s);n=D(J,"Register"),J.forEach(p),r=U(m),_&&_.l(m),l=U(m),a=d(m,"DIV",{class:!0});var G=v(a);f=d(G,"LABEL",{for:!0});var x=v(f);L=D(x,"Username"),x.forEach(p),h=U(G),o=d(G,"INPUT",{type:!0,class:!0}),G.forEach(p),$=U(m),I=d(m,"DIV",{class:!0});var W=v(I);R=d(W,"LABEL",{for:!0});var ee=v(R);V=D(ee,"Password"),ee.forEach(p),B=U(W),P=d(W,"INPUT",{type:!0,class:!0}),W.forEach(p),S=U(m),N=d(m,"DIV",{class:!0});var X=v(N);O=d(X,"LABEL",{for:!0});var te=v(O);C=D(te,"Confirm Password"),te.forEach(p),H=U(X),k=d(X,"INPUT",{type:!0,class:!0}),X.forEach(p),w=U(m),g=d(m,"BUTTON",{class:!0});var se=v(g);E=D(se,"Register"),se.forEach(p),m.forEach(p),this.h()},h(){i(s,"class","text-3xl font-extralight text-center"),i(f,"for",""),i(o,"type","text"),i(o,"class","input input-bordered"),i(a,"class","form-control"),i(R,"for",""),i(P,"type","password"),i(P,"class","input input-bordered"),i(I,"class","form-control"),i(O,"for",""),i(k,"type","password"),i(k,"class","input input-bordered"),i(N,"class","form-control"),i(g,"class","btn btn-success mt-5"),i(e,"class","bg-base-200 p-5 rounded-lg shadow-lg flex flex-col gap-1 w-1/3")},m(b,m){z(b,e,m),t(e,s),t(s,n),t(e,r),_&&_.m(e,null),t(e,l),t(e,a),t(a,f),t(f,L),t(a,h),t(a,o),T(o,u[0]),t(e,$),t(e,I),t(I,R),t(R,V),t(I,B),t(I,P),T(P,u[1]),t(e,S),t(e,N),t(N,O),t(O,C),t(N,H),t(N,k),T(k,u[2]),t(e,w),t(e,g),t(g,E),F||(q=[M(o,"input",u[5]),M(P,"input",u[6]),M(k,"input",u[7]),M(e,"submit",fe(u[4]))],F=!0)},p(b,[m]){b[3].length>0?_?(_.p(b,m),m&8&&j(_,1)):(_=ue(b),_.c(),j(_,1),_.m(e,l)):_&&(_.d(1),_=null),m&1&&o.value!==b[0]&&T(o,b[0]),m&2&&P.value!==b[1]&&T(P,b[1]),m&4&&k.value!==b[2]&&T(k,b[2])},i(b){j(_)},o:K,d(b){b&&p(e),_&&_.d(),F=!1,pe(q)}}}function Pe(u,e,s){let n="",r="",l="",a="";async function f(){if(s(3,a=""),r.length===0){s(3,a=`Password is required
`);return}if(r!==l){s(3,a+=`Passwords do not match
`);return}let $=await me.user.registerApiUsersRegisterPost({username:n,password:r});localStorage.setItem("token",JSON.stringify($)),window.history.back()}function L(){n=this.value,s(0,n)}function h(){r=this.value,s(1,r)}function o(){l=this.value,s(2,l)}return[n,r,l,a,f,L,h,o]}class Ie extends Q{constructor(e){super(),Y(this,e,Pe,Ee,Z,{})}}function Le(u){let e,s,n,r,l,a,f,L;return s=new we({}),f=new Ie({}),{c(){e=c("div"),re(s.$$.fragment),n=y(),r=c("div"),l=A("OR"),a=y(),re(f.$$.fragment),this.h()},l(h){e=d(h,"DIV",{class:!0});var o=v(e);le(s.$$.fragment,o),n=U(o),r=d(o,"DIV",{class:!0});var $=v(r);l=D($,"OR"),$.forEach(p),a=U(o),le(f.$$.fragment,o),o.forEach(p),this.h()},h(){i(r,"class","divider divider-horizontal h-full"),i(e,"class","flex flex-row justify-center items-center gap-20 h-full")},m(h,o){z(h,e,o),ae(s,e,null),t(e,n),t(e,r),t(r,l),t(e,a),ae(f,e,null),L=!0},p:K,i(h){L||(j(s.$$.fragment,h),j(f.$$.fragment,h),L=!0)},o(h){ne(s.$$.fragment,h),ne(f.$$.fragment,h),L=!1},d(h){h&&p(e),oe(s),oe(f)}}}class Re extends Q{constructor(e){super(),Y(this,e,null,Le,Z,{})}}export{Re as default};
