import{S as D,i as H,s as N,F as T,l as m,r as G,a as L,m as h,n as w,u as U,h as f,c as C,p as v,b as y,G as d,H as V,v as j,I as q,J as B,K as F,f as J,t as K,L as M,o as O}from"../chunks/index-503ae1fb.js";import{a as k}from"../chunks/client-26249892.js";import{u as I}from"../chunks/stores-7ad03b58.js";import"../chunks/index-872bb42c.js";function P(l){let e,r,i,p,n,_,a,u,c,b,E;const g=l[3].default,s=T(g,l,l[2],null);return{c(){e=m("div"),r=m("span"),i=G(l[0]),p=L(),n=m("button"),_=G("Logout"),a=L(),u=m("div"),s&&s.c(),this.h()},l(t){e=h(t,"DIV",{class:!0});var o=w(e);r=h(o,"SPAN",{class:!0});var S=w(r);i=U(S,l[0]),S.forEach(f),p=C(o),n=h(o,"BUTTON",{class:!0});var $=w(n);_=U($,"Logout"),$.forEach(f),o.forEach(f),a=C(t),u=h(t,"DIV",{class:!0});var A=w(u);s&&s.l(A),A.forEach(f),this.h()},h(){v(r,"class","underline font-bold"),v(n,"class","btn"),v(e,"class","flex flex-row justify-between px-2 py-2 fixed top-0 w-full"),v(u,"class","container mx-auto p-10 h-screen")},m(t,o){y(t,e,o),d(e,r),d(r,i),d(e,p),d(e,n),d(n,_),y(t,a,o),y(t,u,o),s&&s.m(u,null),c=!0,b||(E=V(n,"click",l[1]),b=!0)},p(t,[o]){(!c||o&1)&&j(i,t[0]),s&&s.p&&(!c||o&4)&&q(s,g,t,t[2],c?F(g,t[2],o,null):B(t[2]),null)},i(t){c||(J(s,t),c=!0)},o(t){K(s,t),c=!1},d(t){t&&f(e),t&&f(a),t&&f(u),s&&s.d(t),b=!1,E()}}}function x(l,e,r){let i;M(l,I,a=>r(0,i=a));let{$$slots:p={},$$scope:n}=e;O(async()=>{if(window.location.pathname!=="/login/")try{let a=await k.user.checkApiUsersCheckGet();I.set(a.username)}catch{window.location.href="/login/"}else try{let a=await k.user.checkApiUsersCheckGet();window.location.href="/"}catch{}});async function _(){try{await k.user.logoutApiUsersLogoutGet(),window.location.reload()}catch{alert("Error logging out.")}}return l.$$set=a=>{"$$scope"in a&&r(2,n=a.$$scope)},[i,_,n,p]}class X extends D{constructor(e){super(),H(this,e,x,P,N,{})}}export{X as default};
