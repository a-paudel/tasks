import{S as W,i as X,s as Y,k as n,q as D,a as S,l as o,m as p,r as w,h as i,c as H,n as I,b as Z,F as t,I as K,u as ee,O as M,P as O,K as te,G as ae,o as se}from"../../../../chunks/index-4a37e229.js";import{p as le}from"../../../../chunks/stores-fbd33161.js";import{f as $,a as L}from"../../../../chunks/index-2f589274.js";import{d as Q}from"../../../../chunks/database-4df4be65.js";function re(y){var R;let a,e,c,r,d=((R=y[0])==null?void 0:R.task)+"",b,u,g,x,N,A,B,f,v,C,V,m,q,h,_,E,J,P;return{c(){a=n("div"),e=n("div"),c=n("header"),r=n("h2"),b=D(d),u=S(),g=n("h3"),x=D("Are you sure you want to delete this task?"),N=S(),A=n("br"),B=S(),f=n("div"),v=n("button"),C=D("Cancel"),V=S(),m=n("button"),q=D("Delete"),this.h()},l(s){a=o(s,"DIV",{class:!0});var k=p(a);e=o(k,"DIV",{class:!0});var l=p(e);c=o(l,"HEADER",{});var U=p(c);r=o(U,"H2",{});var j=p(r);b=w(j,d),j.forEach(i),U.forEach(i),u=H(l),g=o(l,"H3",{});var z=p(g);x=w(z,"Are you sure you want to delete this task?"),z.forEach(i),N=H(l),A=o(l,"BR",{}),B=H(l),f=o(l,"DIV",{class:!0});var T=p(f);v=o(T,"BUTTON",{class:!0});var F=p(v);C=w(F,"Cancel"),F.forEach(i),V=H(T),m=o(T,"BUTTON",{class:!0});var G=p(m);q=w(G,"Delete"),G.forEach(i),T.forEach(i),l.forEach(i),k.forEach(i),this.h()},h(){I(v,"class","col"),I(m,"class","col error button"),I(f,"class","row"),I(e,"class","card text-center"),I(a,"class","background svelte-1l75hzj")},m(s,k){Z(s,a,k),t(a,e),t(e,c),t(c,r),t(r,b),t(e,u),t(e,g),t(g,x),t(e,N),t(e,A),t(e,B),t(e,f),t(f,v),t(v,C),t(f,V),t(f,m),t(m,q),E=!0,J||(P=[K(v,"click",ne),K(m,"click",y[1])],J=!0)},p(s,[k]){var l;(!E||k&1)&&d!==(d=((l=s[0])==null?void 0:l.task)+"")&&ee(b,d)},i(s){E||(M(()=>{h||(h=O(e,$,{y:-100},!0)),h.run(1)}),M(()=>{_||(_=O(a,L,{},!0)),_.run(1)}),E=!0)},o(s){h||(h=O(e,$,{y:-100},!1)),h.run(0),_||(_=O(a,L,{},!1)),_.run(0),E=!1},d(s){s&&i(a),s&&h&&h.end(),s&&_&&_.end(),J=!1,te(P)}}}function ne(){history.back()}function oe(y,a,e){let c;ae(y,le,u=>e(2,c=u));let r=c.params.id,d;se(async()=>{e(0,d=await Q.tasks.get(r)||null)});async function b(){await Q.tasks.delete(r);let u=JSON.parse(localStorage.getItem("deletedTaskIds")||"[]");u.push(r),localStorage.setItem("deletedTaskIds",JSON.stringify(u)),history.back()}return[d,b]}class fe extends W{constructor(a){super(),X(this,a,oe,re,Y,{})}}export{fe as default};
