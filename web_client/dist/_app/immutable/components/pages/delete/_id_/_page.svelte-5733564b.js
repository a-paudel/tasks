import{S as W,i as X,s as Y,k as n,q as D,a as S,l as o,m as p,r as w,h as i,c as H,n as I,b as Z,F as t,I as M,u as ee,N as P,O as N,K as te,G as ae,o as se}from"../../../../chunks/index-f7b1ee1a.js";import{p as le}from"../../../../chunks/stores-3d1bfc5a.js";import{f as $,a as L}from"../../../../chunks/index-5d397866.js";import{d as Q}from"../../../../chunks/database-4df4be65.js";function re(y){var U;let a,e,c,r,d=((U=y[0])==null?void 0:U.task)+"",b,u,g,O,x,A,B,f,v,C,V,m,q,h,_,E,J,R;return{c(){a=n("div"),e=n("div"),c=n("header"),r=n("h2"),b=D(d),u=S(),g=n("h3"),O=D("Are you sure you want to delete this task?"),x=S(),A=n("br"),B=S(),f=n("div"),v=n("button"),C=D("Cancel"),V=S(),m=n("button"),q=D("Delete"),this.h()},l(s){a=o(s,"DIV",{class:!0});var k=p(a);e=o(k,"DIV",{class:!0});var l=p(e);c=o(l,"HEADER",{});var j=p(c);r=o(j,"H2",{});var z=p(r);b=w(z,d),z.forEach(i),j.forEach(i),u=H(l),g=o(l,"H3",{});var F=p(g);O=w(F,"Are you sure you want to delete this task?"),F.forEach(i),x=H(l),A=o(l,"BR",{}),B=H(l),f=o(l,"DIV",{class:!0});var T=p(f);v=o(T,"BUTTON",{class:!0});var G=p(v);C=w(G,"Cancel"),G.forEach(i),V=H(T),m=o(T,"BUTTON",{class:!0});var K=p(m);q=w(K,"Delete"),K.forEach(i),T.forEach(i),l.forEach(i),k.forEach(i),this.h()},h(){I(v,"class","col"),I(m,"class","col error button"),I(f,"class","row"),I(e,"class","card text-center"),I(a,"class","background svelte-1l75hzj")},m(s,k){Z(s,a,k),t(a,e),t(e,c),t(c,r),t(r,b),t(e,u),t(e,g),t(g,O),t(e,x),t(e,A),t(e,B),t(e,f),t(f,v),t(v,C),t(f,V),t(f,m),t(m,q),E=!0,J||(R=[M(v,"click",ne),M(m,"click",y[1])],J=!0)},p(s,[k]){var l;(!E||k&1)&&d!==(d=((l=s[0])==null?void 0:l.task)+"")&&ee(b,d)},i(s){E||(P(()=>{h||(h=N(e,$,{y:-100},!0)),h.run(1)}),P(()=>{_||(_=N(a,L,{},!0)),_.run(1)}),E=!0)},o(s){h||(h=N(e,$,{y:-100},!1)),h.run(0),_||(_=N(a,L,{},!1)),_.run(0),E=!1},d(s){s&&i(a),s&&h&&h.end(),s&&_&&_.end(),J=!1,te(R)}}}function ne(){history.back()}function oe(y,a,e){let c;ae(y,le,u=>e(2,c=u));let r=c.params.id,d;se(async()=>{e(0,d=await Q.tasks.get(r)||null)});async function b(){await Q.tasks.delete(r);let u=JSON.parse(localStorage.getItem("deletedTaskIds")||"[]");u.push(r),localStorage.setItem("deletedTaskIds",JSON.stringify(u)),history.back()}return[d,b]}class fe extends W{constructor(a){super(),X(this,a,oe,re,Y,{})}}export{fe as default};
